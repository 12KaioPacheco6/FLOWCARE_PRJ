<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Flowcare - Cadastro de Produto</title>
    <link rel="stylesheet" href="../cadastro-produto.css">
</head>
<body>
    <header>
        <div class="logo"> 
            <img src="/imagens/imagem-heard/Captura de tela 2025-01-20 193259.png" alt="Logo" width="160" height="50" class="logo-marca"> 
        </div>

        <div class="pesquisa-produto">
            <input class="input-buscar" type="text" placeholder="Digite sua busca...">
            <button class="button-pesquisar" type="submit">Buscar</button>
        </div>

        <div class="user-bar">
            <a href="#">entrar</a> | 
            <a href="#">sacola</a> | 
            <a href="#">registrar produto</a>
        </div>
    </header>

    <div class="opcoes-categorias"> 
            <nav>
                <a href="#" class="nav-item">home</a>
                <a href="#" class="nav-item">autoestima</a>
                <a href="#" class="nav-item">cabelo</a>
                <a href="#" class="nav-item">skincare</a>
                <a href="#" class="nav-item">revisar classificação</a>
                <a href="#" class="nav-item">chat de dúvidas</a>
            </nav>
    </div>

    <main>
        <section class="cadastro-form">
            <h2>CADASTRAR PRODUTO – PREENCHA COM AS SUAS INFORMAÇÕES</h2>
            <form action="../includes/cadastrar-produto.inc.php" method="post" class="form-produto">
                <label class="label-produto">Nome do Produto</label>
                <input type="text" name="nome" required>

                <label class="label-produto">Marca do Produto</label>
                <input type="text" name="marca-produto" required>

                <label class="label-produto">Local</label>
                <input type="text" name="local" required>

                <label class="label-produto">Categoria</label>
                <select name="categoria" required>
                <optgroup label="Beleza">
                    <option name="cabelo" value="Cabelo">Cabelo</option>
                    <option name="skincare" value="SkinCare">SkinCare</option>
                </optgroup>
                <optgroup label="Corpo">
                    <option name="corporal" value="Corporal">Corporal</option>
                    <option name="cremes" value="Cremes">Cremes</option>
                </optgroup>
                <optgroup label="Outros">
                    <option name="perfume" value="Perfume">Perfume</option>
                </optgroup>
                </select>


                <label class="label-produto-lado">Preço</label>
                <input type="number" step="0.01" min="0" name="preco" required>
                
                <label class="label-produto-lado">Descrição</label>
                <input type="text" name="descricao" required>

                <button name="cadastrar-produto" type="submit">Cadastrar Produto</button>
            </form>
        </section>

        <?php
                require_once '../includes/banco-de-dados-produto.inc..php';
                require_once '../includes/cadastro-produto.inc..php';

                $banco = new BancoDeDados("localhost", "root", "", "flowcare", "usuario");
                $conexao = $banco->criarConexao(); //conexao com o banco  de dados

                $banco->criarBanco($conexao); // criacao de um BD

                $banco->abrirBanco($conexao); // ligaçao do BD
                $banco->definirCharset($conexao);

                $banco->criarTabela($conexao);

                $produto = new Produto();

                if(isset($_POST["cadastrar-produto"])){
                $nome = $_POST["nome"];
                $marca = $_POST["marca-produto"];
                $local = $_POST["local"];
                $categoria = $_POST["categoria"];
                $preco = $_POST["preco"];
                $descricao = $_POST["descricao"];

                // Chama a função para cadastrar o produto
                cadastrarProduto($conn, $nome, $marca, $local, $categoria, $preco, $descricao);
                }
        ?>
    </main>

</body>
</html>

